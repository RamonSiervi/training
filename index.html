<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<title>PERSONAL — Treinos</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

<style>
  :root{
    /* Light */
    --bg: radial-gradient(1200px 600px at 0% -10%, #eef1ff 0%, #ffffff 50%) fixed,
           radial-gradient(900px 600px at 110% 10%, #ecf7ff 0%, #ffffff 55%) fixed;
    --ink: #0f1426;
    --ink-2:#5b6480;
    --line: rgba(0,0,0,.10);
    --glassA: rgba(255,255,255,.6);
    --glassB: rgba(255,255,255,.4);

    /* Dark */
    --bg-d: radial-gradient(1200px 600px at 0% -10%, #0f1530 0%, #0e1a38 40%, #0a1226 100%) fixed,
            radial-gradient(900px 600px at 110% 10%, #1a254e 0%, #0b1633 70%, #0a1226 100%) fixed;
    --ink-d:#eaf0ff; --ink-2d:#b9c2dd; --line-d: rgba(255,255,255,.18);
    --glassAd: rgba(18,26,56,.65); --glassBd: rgba(18,26,56,.5);

    --r:18px; --blur:18px; --tr:.32s cubic-bezier(.2,.9,.2,1);
  }

  html,body{height:100%}
  body{
    margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    background: var(--bg); color: var(--ink); transition: background var(--tr), color var(--tr);
  }
  body.dark{ background: var(--bg-d); color: var(--ink-d); }

  /* Glass icon button */
  .gbtn{
    width:40px;height:40px;display:grid;place-items:center;border-radius:12px;cursor:pointer;
    border:1px solid var(--line); backdrop-filter: blur(calc(var(--blur)-4px));
    background: linear-gradient(180deg,var(--glassA),var(--glassB)); transition: transform var(--tr), background var(--tr), border-color var(--tr), width var(--tr);
  }
  .gbtn:active{transform:scale(.96)}
  body.dark .gbtn{ border-color:var(--line-d); background: linear-gradient(180deg,var(--glassAd),var(--glassBd)); }

  /* Top bar */
  .top{
    position:sticky;top:0;z-index:20;display:flex;align-items:center;justify-content:space-between;
    padding:10px 12px;border-bottom:1px solid var(--line);
    backdrop-filter: blur(var(--blur));
    background: linear-gradient(180deg,var(--glassA),var(--glassB));
  }
  body.dark .top{ border-color:var(--line-d); background: linear-gradient(180deg,var(--glassAd),var(--glassBd)); }
  .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.3px}
  .actions{display:flex;align-items:center;gap:8px}

  /* Search input collapsible */
  .search-wrap{display:flex;align-items:center;gap:8px}
  #search{
    width:0;opacity:0;border:none;outline:none;padding:0;height:40px;border-radius:12px;
    transition: width var(--tr), opacity var(--tr), background var(--tr), border-color var(--tr);
    background: transparent;color:inherit;font-size:14px;
  }
  .search-open #search{
    width:min(52vw, 360px);opacity:1;padding:0 12px;border:1px solid var(--line);
    background: linear-gradient(180deg,var(--glassA),var(--glassB));
  }
  body.dark.search-open #search{ border-color:var(--line-d); background: linear-gradient(180deg,var(--glassAd),var(--glassBd)); }

  /* Bottom nav */
  .bottom{
    position:fixed;left:12px;right:12px;bottom:12px;height:58px;border-radius:18px;
    display:flex;align-items:center;justify-content:space-around;gap:10px;
    border:1px solid var(--line); backdrop-filter: blur(calc(var(--blur)-4px));
    background: linear-gradient(180deg,var(--glassA),var(--glassB)); z-index:15;
  }
  body.dark .bottom{ border-color:var(--line-d); background: linear-gradient(180deg,var(--glassAd),var(--glassBd)); }
  .nav-item{background:none;border:none;color:inherit;font-size:20px;opacity:.85}
  .nav-item.active{transform:translateY(-2px) scale(1.06);opacity:1}

  /* Page */
  .wrap{padding:14px 14px 90px;max-width:980px;margin:0 auto}

  /* Section */
  .section{
    border-radius:var(--r);border:1px solid var(--line);
    background: linear-gradient(180deg,var(--glassA),var(--glassB));
    backdrop-filter:blur(var(--blur)); margin-bottom:14px; overflow:hidden;
    transition:border-color var(--tr), background var(--tr);
  }
  body.dark .section{ border-color:var(--line-d); background: linear-gradient(180deg,var(--glassAd),var(--glassBd)); }
  .s-head{display:flex;align-items:center;justify-content:space-between;padding:14px 12px}
  .s-title{margin:0;font-size:18px;font-weight:800;letter-spacing:.2px}
  .s-body{padding:0 12px 12px}

  /* Cards */
  .grid{display:grid;gap:12px}
  .card{
    border-radius:16px;border:1px solid var(--line);overflow:hidden;
    background: linear-gradient(180deg,rgba(255,255,255,.62),rgba(255,255,255,.4)), var(--tone, transparent);
    backdrop-filter: blur(calc(var(--blur)-6px));
    transition: transform var(--tr), box-shadow var(--tr), border-color var(--tr), background var(--tr);
    animation: cardIn .45s ease both;
  }
  body.dark .card{ border-color:var(--line-d); background: linear-gradient(180deg,var(--glassAd),var(--glassBd)); }
  .card:hover{transform:translateY(-2px);box-shadow:0 10px 22px rgba(0,0,0,.08)}
  @keyframes cardIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

  .c-head{display:flex;align-items:center;justify-content:space-between;padding:12px}
  .c-title{margin:0;font-weight:800;font-size:15px}
  .c-toggle{width:34px;height:34px;border-radius:10px;border:1px solid var(--line);display:grid;place-items:center;background:transparent;cursor:pointer;transition:transform var(--tr)}
  body.dark .c-toggle{border-color:var(--line-d)}
  .c-toggle i{transition: transform var(--tr)}
  .card.open .c-toggle i{transform:rotate(180deg)} /* +/– gira */

  .c-body{max-height:0;overflow:hidden;opacity:0;transform:translateY(-4px) scale(.98);filter:blur(6px);transition:all var(--tr)}
  .card.open .c-body{max-height:1500px;opacity:1;transform:none;filter:none}

  .meta{padding:0 12px 12px;color:var(--ink-2);font-size:13px}
  body.dark .meta{color:var(--ink-2d)}
  .video{border-top:1px dashed var(--line)}
  body.dark .video{border-top:1px dashed var(--line-d)}
  .video video{width:100%;display:block}

  /* Tones neutras leves */
  .tone-a{--tone: radial-gradient(420px 220px at 96% -10%, #e6f0ff66, transparent 60%)}
  .tone-b{--tone: radial-gradient(420px 220px at 96% -10%, #efe6ff66, transparent 60%)}
  .tone-c{--tone: radial-gradient(420px 220px at 96% -10%, #fff0e066, transparent 60%)}
  .tone-d{--tone: radial-gradient(420px 220px at 96% -10%, #e6ffe666, transparent 60%)}

  /* Compact mode (só texto) */
  .compact .video{display:none}
  .compact .meta{padding-bottom:10px}

  /* Modal upload */
  .modal{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.55);opacity:0;pointer-events:none;transition:opacity var(--tr);z-index:30}
  .modal.on{opacity:1;pointer-events:auto}
  .panel{width:min(92vw,420px);border-radius:20px;border:1px solid var(--line);
    background: linear-gradient(180deg,var(--glassA),var(--glassB));backdrop-filter:blur(var(--blur));
    padding:18px;display:grid;gap:12px}
  body.dark .panel{border-color:var(--line-d);background: linear-gradient(180deg,var(--glassAd),var(--glassBd))}
  .btn{padding:10px 14px;border-radius:12px;border:1px solid var(--line);background: linear-gradient(180deg,var(--glassA),var(--glassB));cursor:pointer}
  body.dark .btn{border-color:var(--line-d);background: linear-gradient(180deg,var(--glassAd),var(--glassBd))}
  .spin{display:none}
  .spin.on{display:inline-block;animation:spin 1s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}

  /* utility */
  .muted{opacity:.8}
</style>
</head>
<body>

<!-- TOP -->
<header class="top" id="top">
  <div class="brand">
    <button class="gbtn" id="themeBtn" title="Tema"><i class="fa-solid fa-moon"></i></button>
    <span>PERSONAL</span>
  </div>

  <div class="actions search-wrap" id="searchWrap">
    <input id="search" type="search" placeholder="Buscar exercícios… (filtra em tempo real)"/>
    <button class="gbtn" id="searchBtn" title="Buscar"><i class="fa-solid fa-magnifying-glass"></i></button>
    <button class="gbtn" id="uploadBtn" title="Enviar foto"><i class="fa-solid fa-camera"></i></button>
    <button class="gbtn" id="viewBtn" title="Lista ↔ Cards"><i class="fa-solid fa-grip"></i></button>
  </div>
</header>

<!-- CONTENT -->
<main class="wrap" id="wrap"></main>

<!-- BOTTOM -->
<nav class="bottom">
  <button class="nav-item active" title="Home"><i class="fa-solid fa-house"></i></button>
  <button class="nav-item" title="Favoritos"><i class="fa-solid fa-star"></i></button>
</nav>

<!-- MODAL UPLOAD -->
<div class="modal" id="modal">
  <div class="panel">
    <h3 style="margin:0">Enviar foto</h3>
    <input type="file" id="upFile" accept="image/*">
    <textarea id="upNote" rows="3" style="width:100%;resize:none;border-radius:12px;border:1px solid var(--line);padding:10px" placeholder="Observações…"></textarea>
    <div style="display:flex;gap:10px;align-items:center;justify-content:flex-end">
      <i class="fa-solid fa-spinner spin" id="spin"></i>
      <button class="btn" id="sendBtn"><i class="fa-solid fa-paper-plane"></i> Enviar</button>
      <button class="btn" id="closeBtn">Fechar</button>
    </div>
  </div>
</div>

<script>
/* ========= DADOS ========= */
const DATA = [
  {
    id:'quads',
    icon:'fa-dumbbell',
    title:'Treino de Quadríceps',
    items:[
      {tone:'tone-a',name:'Agachamento Sumô com Halteres',series:'3×10/10/10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-dumbbell-sumo-squat-front.mp4'},
      {tone:'tone-b',name:'Leg Press 45°',series:'4×15 (pés colados) + 15 (afastados)',carga:'12 kg',intervalo:'40s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Machine-leg-press-front.mp4'},
      {tone:'tone-c',name:'Adução de Quadril Máquina',series:'3×10/10/10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Machine-machine-hip-adduction-front.mp4'},
      {tone:'tone-d',name:'Cadeira Flexora',series:'3×10/10/10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Machine-seated-leg-curl-side.mp4'},
      {tone:'tone-a',name:'Cadeira Flexora Unilateral',series:'3×10/10/10/10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/machines/_1080/Seated_Leg_Curl_FR_1080.mp4'},
      {tone:'tone-b',name:'Panturrilha no Step',series:'4×15',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-calves-stretch-variation-3-side.mp4'},
      {tone:'tone-c',name:'Abdominal Canivete',series:'4×15',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-dumbbell-suitcase-crunch-side.mp4'},
      {tone:'tone-d',name:'Esteira Caminhada',series:'30 reps',carga:'—',intervalo:'—',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Cardio-treadmill-walk-side.mp4'},
    ]
  },
  {
    id:'post',
    icon:'fa-person-walking',
    title:'Posterior & Glúteo',
    items:[
      {tone:'tone-a',name:'Agachamento com Halteres',series:'3×10+10+10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Dumbbells-dumbbell-front-rack-squat-side.mp4'},
      {tone:'tone-b',name:'Abdução de Quadril Máquina',series:'3×10+10+10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Machine-machine-hip-abduction-front.mp4'},
      {tone:'tone-c',name:'Elíptico',series:'25 reps',carga:'0 kg',intervalo:'—',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Cardio-elliptical-side.mp4'},
      {tone:'tone-d',name:'Afundo com Barra Livre',series:'3×12 • 3×10 • 2×8',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-barbell-reverse-lunge-side.mp4'},
      {tone:'tone-a',name:'Agachamento Sumô no Step c/ Halteres',series:'3×10+10+10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/dumbbells/_1080/DB_Sumo_Squat_FR_1080.mp4'},
      {tone:'tone-b',name:'Cadeira Extensora',series:'3×10+10+10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-machine-leg-extension-side.mp4'},
      {tone:'tone-c',name:'Cadeira Extensora Unilateral',series:'3×10+10+10 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/machines/_1080/Single_Leg_Extension_FR_1080.mp4'},
      {tone:'tone-d',name:'Leg Press 45° Unilateral',series:'3×12 • 3×10 • 2×8',carga:'0 kg',intervalo:'60s',video:'https://media.musclewiki.com/media/uploads/videos/branded/machines/_1080/Leg_Press_FR_1080.mp4'},
    ]
  },
  {
    id:'upper',
    icon:'fa-heart-pulse',
    title:'Peito, Tríceps & Bíceps',
    items:[
      {tone:'tone-a',name:'Alongamento Ombros & Tríceps II',series:'3×20',carga:'0 kg',intervalo:'—',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-shoulders-stretch-variation-1-front.mp4'},
      {tone:'tone-b',name:'Bike Spinning Sentada',series:'40 reps',carga:'—',intervalo:'—',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Cardio-stationary-bike-side.mp4'},
      {tone:'tone-c',name:'Abdominal Supra Solo',series:'5×15',carga:'0 kg',intervalo:'40s',video:'https://media.musclewiki.com/media/uploads/videos/branded/bodyweight/_1080/Crunch_FR_1080.mp4'},
      {tone:'tone-d',name:'Tríceps Unilateral (Polia Alta / Neutra)',series:'3×15',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Cables-cable-single-arm-rope-pushdown-side.mp4'},
      {tone:'tone-a',name:'Alongamento Peitoral no Espaldar',series:'3×15',carga:'0 kg',intervalo:'40s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-chest-stretch-variation-1-side.mp4'},
      {tone:'tone-b',name:'Mobilidade de Ombro III',series:'3×20',carga:'0 kg',intervalo:'—',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Recovery-thoracic-extensions-via-shoulder-flexion-foam-roller-front.mp4'},
      {tone:'tone-c',name:'Rosca Alternada com Halteres',series:'3×15',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Dumbbells-dumbbell-curl-side.mp4'},
      {tone:'tone-d',name:'Tríceps na Polia com Corda',series:'3×15 lento + 15 curto',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Cables-cable-push-down-side.mp4'},
      {tone:'tone-a',name:'Crucifixo com Halteres',series:'4×12',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-dumbbell-incline-chest-fly-front.mp4'},
      {tone:'tone-b',name:'Crucifixo Inclinado com Halteres',series:'4×12',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-dumbbell-incline-chest-flys-side.mp4'},
      {tone:'tone-c',name:'Rosca Martelo com Halteres',series:'4×12',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Dumbbells-dumbbell-hammer-curl-side.mp4'},
    ]
  },
  {
    id:'shoulderback',
    icon:'fa-layer-group',
    title:'Ombro & Costas',
    items:[
      {tone:'tone-a',name:'Puxada Alta (pegada neutra)',series:'3×10/8/6 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-machine-pulldown-side.mp4'},
      {tone:'tone-b',name:'Abdominal Canivete',series:'3×12',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/bodyweight/_1080/V_Up_FR_1080.mp4'},
      {tone:'tone-c',name:'Esteira Caminhada',series:'40 reps',carga:'—',intervalo:'—',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Cardio-treadmill-walk-side.mp4'},
      {tone:'tone-d',name:'Elevação Lateral Unilateral Sentado',series:'3×10/8/6 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-dumbbell-seated-overhead-press-front.mp4'},
      {tone:'tone-a',name:'Elevação Frontal Alternada',series:'3×12',carga:'4–6 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-Dumbbells-dumbbell-front-raise-side.mp4'},
      {tone:'tone-b',name:'Desenvolvimento c/ Halteres (pegada neutra)',series:'3×10/8/6 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/dumbbells/_1080/Neutral_Grip_DB_Press_FR_1080.mp4'},
      {tone:'tone-c',name:'Puxada Neutra Triângulo',series:'3×10/8/6 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/cables/_1080/Seated_Row_V_Grip_FR_1080.mp4'},
      {tone:'tone-d',name:'Remada Baixa Triângulo',series:'3×10/8/6 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-machine-seated-cable-row-front.mp4'},
      {tone:'tone-a',name:'Puxada Aberta Barra Reta',series:'3×10/8/6 (Drop — conta como 1 série)',carga:'0 kg',intervalo:'30s',video:'https://media.musclewiki.com/media/uploads/videos/branded/female-machine-pulldown-side.mp4'},
    ]
  }
];

/* ========= RENDER ========= */
const root = document.getElementById('wrap');

function card(item){
  const id = 'c' + Math.random().toString(36).slice(2,7);
  return `
  <article class="card ${item.tone}" data-name="${item.name.toLowerCase()} ${item.series.toLowerCase()}">
    <div class="c-head">
      <h4 class="c-title">${item.name}</h4>
      <button class="c-toggle gbtn" aria-label="Abrir/fechar" data-target="${id}">
        <i class="fa-solid fa-plus"></i>
      </button>
    </div>
    <div id="${id}" class="c-body">
      <div class="meta">Séries: ${item.series}</div>
      <div class="meta">Carga: ${item.carga} • Intervalo: ${item.intervalo}</div>
      <div class="video"><video src="${item.video}" controls preload="metadata"></video></div>
    </div>
  </article>`;
}

function section(sec){
  const cards = sec.items.map(card).join('');
  return `
    <section class="section" id="sec-${sec.id}">
      <div class="s-head">
        <h3 class="s-title"><i class="fa-solid ${sec.icon}" style="opacity:.85"></i> ${sec.title}</h3>
        <span class="muted" style="font-size:12px">${sec.items.length} exercícios</span>
      </div>
      <div class="s-body">
        <div class="grid">${cards}</div>
      </div>
    </section>
  `;
}

function renderAll(){
  root.innerHTML = DATA.map(section).join('');
  bindCardToggles();
}
renderAll();

/* ========= CARD TOGGLE (+/– rotacionando) ========= */
function bindCardToggles(){
  document.querySelectorAll('.c-toggle').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const target = document.getElementById(btn.dataset.target);
      const card = btn.closest('.card');
      const open = card.classList.toggle('open');
      btn.innerHTML = open ? '<i class="fa-solid fa-minus"></i>' : '<i class="fa-solid fa-plus"></i>';
      if(!open){ // pausando vídeo ao fechar
        const vid = target.querySelector('video'); if(vid){ vid.pause(); }
      }
    });
  });
}

/* ========= BUSCA (corrigida; filtra em tempo real) ========= */
const searchBtn = document.getElementById('searchBtn');
const searchWrap = document.getElementById('searchWrap');
const search = document.getElementById('search');

searchBtn.addEventListener('click', ()=>{
  document.body.classList.toggle('search-open');
  searchWrap.classList.toggle('search-open');
  if(searchWrap.classList.contains('search-open')){ search.focus(); }
  else { search.value=''; filterList(''); }
});

search.addEventListener('input', e=> filterList(e.target.value.trim().toLowerCase()));

function filterList(q){
  document.querySelectorAll('.card').forEach(card=>{
    const hay = card.getAttribute('data-name');
    card.style.display = (!q || hay.includes(q)) ? '' : 'none';
  });
}

/* ========= TEMA ========= */
const themeBtn = document.getElementById('themeBtn');
function setTheme(dark){
  document.body.classList.toggle('dark', dark);
  themeBtn.innerHTML = dark ? '<i class="fa-solid fa-sun"></i>' : '<i class="fa-solid fa-moon"></i>';
  localStorage.setItem('personal_theme', dark?'dark':'light');
}
setTheme(localStorage.getItem('personal_theme')==='dark');
themeBtn.addEventListener('click', ()=> setTheme(!document.body.classList.contains('dark')));

/* ========= MODO (lista ↔ cards) ========= */
let viewMode = localStorage.getItem('personal_view') || 'cards';
const viewBtn = document.getElementById('viewBtn');
applyView(viewMode);
viewBtn.addEventListener('click', ()=>{
  viewMode = (viewMode==='cards') ? 'compact' : 'cards';
  applyView(viewMode);
  localStorage.setItem('personal_view', viewMode);
});
function applyView(mode){
  document.getElementById('wrap').classList.toggle('compact', mode==='compact');
  viewBtn.innerHTML = (mode==='cards') ? '<i class="fa-solid fa-grip"></i>' : '<i class="fa-solid fa-list"></i>';
}

/* ========= MODAL UPLOAD ========= */
const modal = document.getElementById('modal');
document.getElementById('uploadBtn').onclick=()=> modal.classList.add('on');
document.getElementById('closeBtn').onclick=()=> modal.classList.remove('on');
modal.addEventListener('click',e=>{ if(e.target===modal) modal.classList.remove('on'); });
document.getElementById('sendBtn').addEventListener('click', ()=>{
  const spin=document.getElementById('spin'); spin.classList.add('on');
  setTimeout(()=>{ spin.classList.remove('on'); modal.classList.remove('on'); alert('Foto enviada!'); }, 1400);
});

/* ========= BOTTOM state ========= */
document.querySelectorAll('.bottom .nav-item').forEach(b=>{
  b.addEventListener('click',()=>{
    document.querySelectorAll('.bottom .nav-item').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    if(b.title==='Home'){ window.scrollTo({top:0,behavior:'smooth'}); }
  });
});
</script>
</body>
</html>
