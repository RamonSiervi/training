<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERSONAL — Preview PRO</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --ink:#0f1720; --ink-2:#6b7280;
  --bg:#f8f9fb; --panel:#ffffff;
  --border:rgba(20,26,40,.08);
  --glass:linear-gradient(180deg,rgba(255,255,255,.55),rgba(255,255,255,.25));
  --shadow:0 8px 30px rgba(8,15,35,.08);

  --inkD:#e6e7eb; --ink-2D:#9ca3af;
  --bgD:#101114; --panelD:#18191d;
  --borderD:rgba(255,255,255,.08);
  --glassD:linear-gradient(180deg,rgba(30,31,35,.65),rgba(22,23,26,.45));
  --shadowD:0 12px 40px rgba(0,0,0,.45);

  --r:16px; --t:.3s cubic-bezier(.2,.9,.2,1);

  --tone-quad: rgba(90,141,255,.2);
  --tone-post: rgba(36,197,140,.2);
  --tone-upper: rgba(168,96,255,.2);
  --tone-back: rgba(255,166,76,.25);
}
body{margin:0;font-family:sans-serif;color:var(--ink);background:var(--bg);transition:background var(--t),color var(--t)}
body.dark{color:var(--inkD);background:var(--bgD)}
.glass{background:var(--glass);border:1px solid var(--border);backdrop-filter:blur(12px);border-radius:var(--r);box-shadow:var(--shadow);transition:all var(--t)}
body.dark .glass{background:var(--glassD);border-color:var(--borderD);box-shadow:var(--shadowD)}

header{display:flex;justify-content:space-between;align-items:center;padding:12px;position:sticky;top:0;z-index:50}
header .left{font-weight:900}
header .actions{display:flex;gap:10px}

button{cursor:pointer;border:none;background:none}

.section{margin:16px 0;border-radius:18px;overflow:hidden}
.s-head{display:flex;justify-content:space-between;align-items:center;padding:12px}
.s-title{font-weight:800;display:flex;gap:8px;align-items:center}
.progress{height:6px;border-radius:8px;background:rgba(0,0,0,.1);margin-top:6px;overflow:hidden}
.progress-fill{height:100%;background:#4ade80;width:0;transition:width .4s ease}

.s-body{padding:12px;max-height:0;opacity:0;overflow:hidden;transition:max-height .5s ease,opacity .3s ease}
.section.open .s-body{max-height:1200px;opacity:1}

.grid{display:grid;gap:12px}
@media(min-width:720px){.grid{grid-template-columns:repeat(2,1fr)}}

.card{padding:12px;position:relative}
.card h4{margin:0 0 6px;font-weight:700}
.meta{font-size:14px;opacity:.8;display:flex;flex-wrap:wrap;gap:8px}
video{width:100%;border-radius:12px;margin-top:8px}
.done{border:2px solid #4ade80;box-shadow:0 0 10px rgba(74,222,128,.5)}

.card .done-btn{position:absolute;top:10px;right:10px;font-size:18px}
.card .note-btn{position:absolute;top:10px;left:10px;font-size:16px}

/* compact mode */
.compact .video{display:none}
.compact .meta{font-size:12px}

/* modals */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.4);display:grid;place-items:center;opacity:0;pointer-events:none;transition:.3s;z-index:100}
.modal.show{opacity:1;pointer-events:auto}
.modal-content{padding:16px;width:90%;max-width:400px}

/* confetti */
.confetti{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:200}
</style>
</head>
<body>
<header class="glass">
  <div class="left">PERSONAL</div>
  <div class="actions">
    <button id="modeBtn" class="glass" title="Modo lista/cards"><i class="fa-solid fa-list"></i></button>
    <button id="themeBtn" class="glass" title="Tema"><i class="fa-solid fa-moon"></i></button>
  </div>
</header>

<main style="padding:16px;max-width:960px;margin:auto">
  <section class="section glass" data-tone="quad">
    <div class="s-head" style="background:var(--tone-quad)">
      <span class="s-title"><i class="fa-solid fa-dumbbell"></i> Quadríceps</span>
      <button class="toggle"><i class="fa-solid fa-plus"></i></button>
    </div>
    <div class="progress"><div class="progress-fill"></div></div>
    <div class="s-body">
      <div class="grid">
        <div class="card glass" data-id="sq">
          <button class="note-btn"><i class="fa-solid fa-note-sticky"></i></button>
          <button class="done-btn"><i class="fa-solid fa-check"></i></button>
          <h4>Agachamento Sumô</h4>
          <div class="meta">3x10 | Carga: 0kg</div>
          <video src="https://media.musclewiki.com/media/uploads/videos/branded/female-dumbbell-sumo-squat-front.mp4" controls></video>
        </div>
        <div class="card glass" data-id="lp">
          <button class="note-btn"><i class="fa-solid fa-note-sticky"></i></button>
          <button class="done-btn"><i class="fa-solid fa-check"></i></button>
          <h4>Leg Press 45º</h4>
          <div class="meta">4x15 | Carga: 12kg</div>
          <video src="https://media.musclewiki.com/media/uploads/videos/branded/female-Machine-leg-press-front.mp4" controls></video>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Modal notas -->
<div class="modal" id="noteModal">
  <div class="modal-content glass">
    <h3>Adicionar nota</h3>
    <textarea id="noteInput" rows="4" style="width:100%;border-radius:8px"></textarea>
    <div style="margin-top:8px;text-align:right">
      <button id="saveNote" class="glass">Salvar</button>
    </div>
  </div>
</div>

<canvas class="confetti" id="confetti"></canvas>

<script>
const themeBtn=document.getElementById('themeBtn');
function setTheme(dark){document.body.classList.toggle('dark',dark);themeBtn.innerHTML=dark?'<i class="fa-solid fa-sun"></i>':'<i class="fa-solid fa-moon"></i>';localStorage.setItem('theme',dark?'dark':'light')}
setTheme(localStorage.getItem('theme')==='dark');
themeBtn.onclick=()=>setTheme(!document.body.classList.contains('dark'));

document.querySelectorAll('.toggle').forEach(btn=>{
  btn.onclick=()=>{
    const sec=btn.closest('.section');
    sec.classList.toggle('open');
    btn.innerHTML=sec.classList.contains('open')?'<i class="fa-solid fa-minus"></i>':'<i class="fa-solid fa-plus"></i>';
  }
});

const modeBtn=document.getElementById('modeBtn');
modeBtn.onclick=()=>{document.body.classList.toggle('compact')}

const noteModal=document.getElementById('noteModal');let currentCard=null;
document.querySelectorAll('.note-btn').forEach(b=>{
  b.onclick=()=>{
    currentCard=b.closest('.card').dataset.id;
    document.getElementById('noteInput').value=localStorage.getItem('note-'+currentCard)||'';
    noteModal.classList.add('show');
  }
});
document.getElementById('saveNote').onclick=()=>{
  localStorage.setItem('note-'+currentCard,document.getElementById('noteInput').value);
  noteModal.classList.remove('show');
}

document.querySelectorAll('.done-btn').forEach(b=>{
  b.onclick=()=>{
    const c=b.closest('.card');c.classList.toggle('done');
    localStorage.setItem('done-'+c.dataset.id,c.classList.contains('done'));
    updateProgress();
  }
});

function updateProgress(){
  document.querySelectorAll('.section').forEach(sec=>{
    const cards=sec.querySelectorAll('.card');if(!cards.length)return;
    let done=0;cards.forEach(c=>{if(c.classList.contains('done'))done++});
    const pct=(done/cards.length)*100;
    sec.querySelector('.progress-fill').style.width=pct+'%';
    if(done===cards.length){launchConfetti()}
  })
}
updateProgress();

/* restore states */
document.querySelectorAll('.card').forEach(c=>{
  if(localStorage.getItem('done-'+c.dataset.id)==='true')c.classList.add('done')
})

/* confetti */
function launchConfetti(){
  const canvas=document.getElementById('confetti');const ctx=canvas.getContext('2d');
  canvas.width=window.innerWidth;canvas.height=window.innerHeight;
  let pieces=new Array(100).fill().map(()=>({x:Math.random()*canvas.width,y:Math.random()*canvas.height,dy:2+Math.random()*3,color:`hsl(${Math.random()*360},100%,50%)`,size:4+Math.random()*6}));
  function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);pieces.forEach(p=>{ctx.fillStyle=p.color;ctx.fillRect(p.x,p.y,p.size,p.size);p.y+=p.dy;if(p.y>canvas.height)p.y=-10})}
  let i=0;const id=setInterval(()=>{draw();i++;if(i>60)clearInterval(id)},50)
}
</script>
</body>
</html>
